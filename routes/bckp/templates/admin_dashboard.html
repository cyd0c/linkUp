{% extends "base.html" %}
{% block content %}
<h2>Admin Dashboard</h2>

<h2>Pending Users</h2>
<ul class="list-group">
  {% for u in pending_users %}
    <li class="list-group-item">
      {{ u.username }} ({{ u.role }})
      <a href="{{ url_for('admin.view_user', user_id=u.id) }}" class="btn btn-sm btn-info">View Profile</a>

      <form method="post" action="{{ url_for('admin.approve_user', user_id=u.id) }}" class="d-inline">
        <button class="btn btn-sm btn-success">Approve</button>
      </form>

      <form method="post" action="{{ url_for('admin.reject_user', user_id=u.id) }}" class="d-inline">
        <button class="btn btn-sm btn-danger">Reject</button>
      </form>
    </li>
  {% else %}
    <li class="list-group-item">No pending users</li>
  {% endfor %}
</ul>


<p class="mt-3"><a class="btn btn-dark" href="{{ url_for('admin.admin_verify') }}">Verify Projects</a></p>
<p><a class="btn btn-secondary" href="{{ url_for('admin.admin_analytics') }}">Analytics</a></p>
{% endblock %}

